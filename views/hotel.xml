<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <menuitem id="hotel_menu_root"
              name="Hotel Mgmt"
              sequence="2"/>
    <menuitem id="hotel_menu_staff"
              name="Staff"
              sequence="2" parent="hotel_management.hotel_menu_root"/>

    <record id="view_waiter_form" model="ir.ui.view">
        <field name="name">hotel.waiter.form</field>
        <field name="model">hotel.person</field>
        <field name="arch" type="xml">
            <form string="Waiter">

                    <sheet>
                        <label for="name" string="Name"/>
                            <field name="name" required="1"/>
                        <group>
                        <group>
                            <field name="person_type" required="1"/>
                            <field name="age"
                                   attrs="{'invisible':[('person_type','=','customer')],
                                       'required':[('person_type','!=','customer')]}"/>

                            <field name="weight"/>
                            <field name="dob"
                                   attrs="{'invisible':[('person_type','=','customer')],
                                      'required':[('person_type','!=','customer')]}"/>
                        </group>
                        <group>
                            <field name="marital_status"/>
                            <field name="joining_date"
                                   attrs="{'invisible':[('person_type','=','customer')],
                                   'required':[('person_type','!=','customer')]}"/>

                            <field name="gender" invisible="1"/>
                        </group>
                        </group>
                        <group name="Order" string="Order">
                            <field name="orders" nolabel="1"/>
                        </group>
                        <group name="Chef_Order" string="Chef_Order">
                            <field name="orders" nolabel="1"/>
                        </group>
                    </sheet>
            </form>
        </field>
    </record>
    <record id="view_waiter_list" model="ir.ui.view">
        <field name="name">view.waiter.list</field>
        <field name="model">hotel.person</field>
        <field name="arch" type="xml">

                <tree>
                    <field name="name"/>
                    <field name="age"/>
                    <field name="weight"/>
                    <field name="dob"/>
                    <field name="marital_status"/>
                    <field name="joining_date"/>
                    <field name="gender"/>
             </tree>
        </field>
    </record>
    <record id="action_waiters" model="ir.actions.act_window">
        <field name="name">Waiters</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hotel.person</field>
        <field name="domain">[('person_type','=','waiter')]</field>
        <field name="view_mode">tree,form</field>
    </record>
    <record id="action_view_waiter_tree" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="hotel_management.view_waiter_list"/>
        <field name="act_window_id" ref="action_waiters"/>
    </record>

    <record id="action_customer" model="ir.actions.act_window">
        <field name="name">Customer</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hotel.person</field>
        <field name="domain">[('person_type','=','customer')]</field>
        <field name="view_mode">tree,form</field>
    </record>
    <record id="action_chef" model="ir.actions.act_window">
        <field name="name">Chef</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hotel.person</field>
        <field name="domain">[('person_type','=','chef')]</field>
        <field name="view_mode">tree,form</field>
    </record>


    <menuitem id="hotel_staff_waiters"
              name="Waiters"
              sequence="2"
              parent="hotel_management.hotel_menu_staff"
              action="hotel_management.action_waiters"/>

    <menuitem id="hotel_staff_customer"
              name="Customer"
              sequence="2"
              parent="hotel_management.hotel_menu_staff"
              action="hotel_management.action_customer"/>

    <menuitem id="hotel_staff_chef"
              name="Chef"
              sequence="2"
              parent="hotel_management.hotel_menu_staff"
              action="hotel_management.action_chef"/>
</odoo>

